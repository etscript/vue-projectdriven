(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d651"],{d0b1:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("section",{staticClass:"wrap scroll"},[a("div",{staticClass:"main_table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.articles,stripe:"","max-height":"600","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"classify",label:"文章分类","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"title",label:"文章标题","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"标签",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.tags,(function(e,l){return[a("el-tag",{key:l,attrs:{size:"mini"}},[t._v(t._s(e))])]}))]}}])}),a("el-table-column",{attrs:{prop:"view_count",label:"点击量",width:"80"}}),a("el-table-column",{attrs:{prop:"like",label:"点赞量",width:"80"}}),a("el-table-column",{attrs:{prop:"commentCount",label:"评论量",width:"80"}}),a("el-table-column",{attrs:{prop:"created_at",label:"创建日期","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"是否下架",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{on:{change:function(a){return t.deleteBtn(e.row.id,e.row.deleted_at)}},model:{value:e.row.deleted_at,callback:function(a){t.$set(e.row,"deleted_at",a)},expression:"scope.row.deleted_at"}})]}}])}),a("el-table-column",{attrs:{label:"是否置顶",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1},on:{change:function(a){return t.topBtn(e.row.id,e.row.top)}},model:{value:e.row.top,callback:function(a){t.$set(e.row,"top",a)},expression:"scope.row.top"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.detail(e.row.id)}}},[t._v("查看")])]}}])})],1),t.pageModel.sumCount>6?a("MyPage",{attrs:{pageModel:t.pageModel},on:{selectList:t.selectRoleList}}):t._e()],1)])])},o=[],n=(a("ac6a"),{data:function(){return{loading:!0,articles:[],pageModel:{page:1,all:1,sumCount:6}}},created:function(){this.getArticles()},methods:{getArticles:function(){var t=this;this.loading=!0,this.$post("/api/article/list",this.pageModel).then((function(e){t.articles=e.data.data,t.pageModel.sumCount=e.data.total,t.articles.forEach((function(t){t.deleted_at&&(t.deleted_at=!0)})),t.loading=!1})).catch((function(){}))},selectRoleList:function(){this.getArticles()},detail:function(t){this.$router.push("/article/edit/".concat(t))},deleteBtn:function(t,e){var a=this;1==e?this.$post("/api/article/delete",{id:t}).then((function(e){console.log(e.data,"delete"),a.$message.success("文章".concat(t,"下架操作成功"))})).catch((function(){})):this.$post("/api/article/restored",{id:t}).then((function(e){console.log(e.data,"restored"),a.$message.success("文章".concat(t,"恢复成功"))})).catch((function(){}))},topBtn:function(t,e){var a=this;1==e?this.$post("/api/article/top",{id:t}).then((function(e){a.$message.success("文章".concat(t,"置顶操作成功"))})).catch((function(){})):this.$post("/api/article/untop",{id:t}).then((function(e){a.$message.success("文章".concat(t,"取消置顶成功"))})).catch((function(){}))}}}),i=n,c=a("2877"),s=Object(c["a"])(i,l,o,!1,null,"3160f6f9",null);e["default"]=s.exports}}]);